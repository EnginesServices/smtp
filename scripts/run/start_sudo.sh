#!/bin/sh

setup() \r\n{\r\nfor dir_to_create in $dirs_to_create\r\ndo\r\n  if ! test -d $dir_to_create\r\n   then\r\n     mkdir -p  $dir_to_create\r\n  fi\r\n  if ! test -z $dir_ownership\r\n   then\r\n    chown -R $dir_ownership $dir_to_create\r\n  fi\r\ndone\r\n\r\n\r\ndirs_to_create=\"/etc/postfix/maps/ /etc/postfix/maps/aliases/\"\r\ndir_ownership=postfix\r\n\r\ncreate_dirs\r\n\r\npostfix set-permissions\r\n\r\nchown postfix /home/engines/scripts/configurators/saved/\r\nchown opendkim /etc/opendkim/keys \r\n}\r\n\r\nstart()\r\n{\r\ncreate_dirs() \r\n{\r\nfor dir_to_create in $dirs_to_create\r\ndo\r\n  if ! test -d $dir_to_create\r\n   then\r\n     mkdir -p  $dir_to_create\r\n  fi\r\n  if ! test -z $dir_ownership\r\n   then\r\n    chown -R $dir_ownership $dir_to_create\r\n  fi\r\ndone\r\n}\r\n\r\ndirs_to_create=\"/etc/postfix/maps/ /etc/postfix/maps/aliases/\"\r\ndir_ownership=postfix\r\n\r\ncreate_dirs\r\n\r\npostfix set-permissions\r\n\r\nchown postfix /home/engines/scripts/configurators/saved/\r\nchown opendkim /etc/opendkim/keys \r\n\r\n\r\n}\r\n\r\nif test -z $1\r\n then\r\n  1=start\r\nfi\r\n\r\ncase $1 in\r\n start)\r\n  start\r\n  ;;\r\n prepare)\r\n   setup\r\n   ;;\r\nesac
